<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg?cachebust={{CACHE_TIMESTAMP}}" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- PERMANENT CACHE BUSTING - Development Mode -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <meta name="cache-timestamp" content="{{CACHE_TIMESTAMP}}" />
    
    <title>E-FAR | E-Formula Ashwariders - Dev {{CACHE_TIMESTAMP}}</title>
    
    <!-- SMART CACHE BUSTING - Only refreshes when needed -->
    <script>
      if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        console.log('üéØ SMART CACHE BUSTING ACTIVE - No constant refresh');
        
        // Remove caches only once on load
        if ('caches' in window) {
          caches.keys().then(names => {
            names.forEach(name => caches.delete(name));
          });
        }
        
        // Smart cache busting on load
        document.addEventListener('DOMContentLoaded', function() {
          const links = document.querySelectorAll('link[rel="stylesheet"]');
          const timestamp = Date.now();
          links.forEach(link => {
            const href = link.getAttribute('href');
            if (href) {
              link.setAttribute('href', href + '?t=' + timestamp);
            }
          });
          
          console.log('üéØ SMART CACHE BUSTING: Changes visible without constant refresh');
          console.log('üìç Use window.forceReload() if you need manual refresh');
        });
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx?cachebust={{CACHE_TIMESTAMP}}"></script>
  </body>
</html>
